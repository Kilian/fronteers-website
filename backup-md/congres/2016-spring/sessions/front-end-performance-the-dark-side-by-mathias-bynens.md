<!DOCTYPE html>
<!-- Handcrafted with ❤️, by Krijn -->
<html lang="nl">
 <head>
  <meta charset="utf-8">
  <title>Front-End Performance: The Dark Side by Mathias Bynens · Fronteers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/_css/fronteers.css?v=2023">
  <link rel="icon" href="/favicon.ico">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersWeblog" title="Fronteers weblog">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersWeblogLaatsteReacties" title="Fronteers weblog: laatste reacties">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersBijeenkomsten" title="Fronteers bijeenkomsten">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersVacaturebank" title="Fronteers vacaturebank">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersWorkshops" title="Fronteers workshops">
  <link rel="me" href="https://front-end.social/@fronteers">
  <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/FronteersCongres" title="Fronteers conference">
  <link rel="shortlink" href="http://frnt.rs/p1708">
  <style>
   /* Fronteers 2014 styling */
   #main { margin: 0 3em 0 21em; }
   #submenu { max-width: 19em; top: 10em; left: 2em; }
    #submenu h2, #submenu ul li { margin-right: 2em; margin-left: 0; }
    #submenu ul li { padding-left: 0; }
    #submenu div { margin-bottom: 2em; font-size: 1.25em; line-height: 1.5; }
    #submenu ul li.mark { background-image: url(/_css/img/marker-left.png); margin-right: 0; background-position: 100% 9px; }
   div.section { overflow: auto; }
   div.section * + h2 { margin-top: 2.4em; }
   div.section * + h3 { margin-top: 2.4em; }
   div.section h2 + h3 { margin-top: 10px; }
   div.section * + h4 { margin-top: 1.5em; }
   div.section p + p { margin-top: 1em; }
   div.section p.figure:last-child { margin-top: 2rem; margin-bottom: -3rem; }
   div.section iframe { margin: 1em 0 !important; }
   .section { font-size: 1.2em; }
   .speaker-section { overflow: hidden; }
   @media all and (max-width: 55em) {
    #main { margin: 0 3em 0 21em; }
    #submenu { position: absolute; -webkit-columns: 1; -moz-columns: 1; columns: 1; margin: 2em 2em 0 0; }
   }
   @media all and (max-width: 37em) {
    #main { margin: 0; }
    #submenu { width: 100%; max-width: 100%; position: static; }
     #submenu h2, #submenu ul li { margin-left: 2em; }
   }
   html { background: #0a2f41; background: linear-gradient(90deg, #0a2f41 40%, #070707); }
   h1 a { padding: 0; }
  </style>
 </head>
 <body id="fronteers-nl">

  <div id="container">
   <div id="main">
    <h1><a href="/congres/2016-spring"><img src="/_img/congres/2016-spring/fronteers-2016-header.png" width="860" height="175" alt="Fronteers Spring conference"></a></h1>
    <div class="section" lang="en">
     <h2>Front-End Performance: The Dark Side by Mathias Bynens</h2>
     <video width="640" height="360" src="/_downloads/2016/spring-conference/mathias-bynens-front-end-performance-the-dark-side.mp4" controls>
      <track src="/congres/2016-spring/sessions/front-end-performance-the-dark-side-by-mathias-bynens.vtt" default>
      <p>The <code>&lt;video></code> element is not (yet) supported in your browser; you can <a href="/_downloads/2016/spring-conference/mathias-bynens-front-end-performance-the-dark-side.mp4">download the video</a> and watch it with <a href="http://www.videolan.org/vlc/">VLC</a>, for example.</p>
     </video>
     <p class="note">This is the third talk in <a href="/congres/2016-spring/videos/technical-performance">a set of three talks on Technical Performance</a> delivered on April 1, 2016 at Fronteers Spring Conference in Amsterdam</p>
     <ul>
      <li><a href="https://vimeo.com/163113209">Watch high quality video on Vimeo</a></li>
      <li><a href="/_downloads/2016/spring-conference/audio/mathias-bynens-front-end-performance-the-dark-side.mp3">Download audio</a> (MP3, 23MB)</li>
     </ul>
     <p>In security-sensitive situations, performance can actually be a bug rather than a feature. This presentation covers timing attacks on the web, and demonstrates how modern performance-related web APIs can sometimes have a negative security impact.</p>
     <h3>Transcript</h3>
     <div class="transcript">
      <p><span data-start="00:00.210" data-end="00:00.710" data-start-seconds="0">All right.</span></p>
      <p><span data-start="00:00.710" data-end="00:07.010" data-start-seconds="0">So our third speaker of the</span> <span data-start="00:00.710" data-end="00:07.010" data-start-seconds="0">section is kind of a long-term</span> <span data-start="00:07.010" data-end="00:07.930" data-start-seconds="7">friend of Fronteers'.</span></p>
      <p><span data-start="00:07.930" data-end="00:10.884" data-start-seconds="7">You'll have seen him around</span> <span data-start="00:07.930" data-end="00:10.884" data-start-seconds="7">at Fronteers before, either--</span> <span data-start="00:10.884" data-end="00:13.250" data-start-seconds="10">[CLAP]</span> <span data-start="00:13.250" data-end="00:17.010" data-start-seconds="13">--the sound of</span> <span data-start="00:13.250" data-end="00:17.010" data-start-seconds="13">one hand clapping.</span></p>
      <p><span data-start="00:17.010" data-end="00:19.920" data-start-seconds="17">Yeah, you will have seen him</span> <span data-start="00:17.010" data-end="00:19.920" data-start-seconds="17">either in the October event.</span></p>
      <p><span data-start="00:19.920" data-end="00:21.710" data-start-seconds="19">You've maybe seen</span> <span data-start="00:19.920" data-end="00:21.710" data-start-seconds="19">him in Belgium,</span> <span data-start="00:21.710" data-end="00:24.980" data-start-seconds="21">where he's kind of getting</span> <span data-start="00:21.710" data-end="00:24.980" data-start-seconds="21">Fronteers up and running there</span> <span data-start="00:24.980" data-end="00:26.350" data-start-seconds="24">as well.</span></p>
      <p><span data-start="00:26.350" data-end="00:29.655" data-start-seconds="26">Also delivered kind of</span> <span data-start="00:26.350" data-end="00:29.655" data-start-seconds="26">mind-bending lightning talks</span> <span data-start="00:29.655" data-end="00:31.030" data-start-seconds="29">that happened in</span> <span data-start="00:29.655" data-end="00:31.030" data-start-seconds="29">October as well.</span></p>
      <p><span data-start="00:31.030" data-end="00:33.650" data-start-seconds="31">A lot of information crammed</span> <span data-start="00:31.030" data-end="00:33.650" data-start-seconds="31">into 10 minutes there.</span></p>
      <p><span data-start="00:33.650" data-end="00:36.840" data-start-seconds="33">So I'm interested to see what</span> <span data-start="00:33.650" data-end="00:36.840" data-start-seconds="33">can go into 20 minutes here</span> <span data-start="00:36.840" data-end="00:38.166" data-start-seconds="36">today.</span></p>
      <p><span data-start="00:38.166" data-end="00:40.820" data-start-seconds="38">Mathias works at the</span> <span data-start="00:38.166" data-end="00:40.820" data-start-seconds="38">Opera where your--</span> <span data-start="00:40.820" data-end="00:41.573" data-start-seconds="40">Woo!</span> <span data-start="00:41.573" data-end="00:42.890" data-start-seconds="41">Woo!</span> <span data-start="00:42.890" data-end="00:44.290" data-start-seconds="42">First whoop of the day.</span></p>
      <p><span data-start="00:44.290" data-end="00:46.160" data-start-seconds="44">It took-- what time is it?</span> <span data-start="00:46.160" data-end="00:48.630" data-start-seconds="46">it's 3 o'clock, and that was</span> <span data-start="00:46.160" data-end="00:48.630" data-start-seconds="46">the first whoop of the day.</span></p>
      <p><span data-start="00:48.630" data-end="00:50.600" data-start-seconds="48">[INAUDIBLE] that awesome.</span></p>
      <p><span data-start="00:50.600" data-end="00:51.130" data-start-seconds="50">Amazing.</span></p>
      <p><span data-start="00:51.130" data-end="00:51.710" data-start-seconds="51">There we go.</span></p>
      <p><span data-start="00:51.710" data-end="00:55.110" data-start-seconds="51">So you have a ready</span> <span data-start="00:51.710" data-end="00:55.110" data-start-seconds="51">made fan base.</span></p>
      <p><span data-start="00:55.110" data-end="00:57.500" data-start-seconds="55">One person who's going to</span> <span data-start="00:55.110" data-end="00:57.500" data-start-seconds="55">cheer for the rest of the day,</span> <span data-start="00:57.500" data-end="00:59.020" data-start-seconds="57">I'm hoping.</span></p>
      <p><span data-start="00:59.020" data-end="00:59.930" data-start-seconds="59">So, yeah.</span></p>
      <p><span data-start="00:59.930" data-end="01:03.880" data-start-seconds="59">Websense evangelist</span> <span data-start="00:59.930" data-end="01:03.880" data-start-seconds="59">at Opera.</span></p>
      <p><span data-start="01:03.880" data-end="01:07.620" data-start-seconds="63">And going to be talking</span> <span data-start="01:03.880" data-end="01:07.620" data-start-seconds="63">about the dark side</span> <span data-start="01:07.620" data-end="01:08.710" data-start-seconds="67">of front-end performance.</span></p>
      <p><span data-start="01:08.710" data-end="01:11.030" data-start-seconds="68">So make him very</span> <span data-start="01:08.710" data-end="01:11.030" data-start-seconds="68">welcome, Mathias Bynens.</span></p>
      <p><span data-start="01:11.030" data-end="01:12.756" data-start-seconds="71">[APPLAUSE]</span> <span data-start="01:16.460" data-end="01:17.530" data-start-seconds="76">Hi, everyone.</span></p>
      <p><span data-start="01:17.530" data-end="01:20.340" data-start-seconds="77">So I'm going to close off this</span> <span data-start="01:17.530" data-end="01:20.340" data-start-seconds="77">block on technical performance</span> <span data-start="01:20.340" data-end="01:23.770" data-start-seconds="80">by focusing on some security</span> <span data-start="01:20.340" data-end="01:23.770" data-start-seconds="80">sensitive situations in which</span> <span data-start="01:23.770" data-end="01:27.021" data-start-seconds="83">performance is</span> <span data-start="01:23.770" data-end="01:27.021" data-start-seconds="83">actually a bad thing.</span></p>
      <p><span data-start="01:27.021" data-end="01:27.690" data-start-seconds="87">Yep.</span></p>
      <p><span data-start="01:27.690" data-end="01:30.510" data-start-seconds="87">I will also demonstrate that</span> <span data-start="01:27.690" data-end="01:30.510" data-start-seconds="87">some new performance-related</span> <span data-start="01:30.510" data-end="01:34.150" data-start-seconds="90">web APIs can also impact</span> <span data-start="01:30.510" data-end="01:34.150" data-start-seconds="90">security negatively.</span></p>
      <p><span data-start="01:34.150" data-end="01:35.934" data-start-seconds="94">So let's get started.</span></p>
      <p><span data-start="01:35.934" data-end="01:37.350" data-start-seconds="95">Let's start with</span> <span data-start="01:35.934" data-end="01:37.350" data-start-seconds="95">something simple.</span></p>
      <p><span data-start="01:37.350" data-end="01:40.770" data-start-seconds="97">Let's say you want to compare</span> <span data-start="01:37.350" data-end="01:40.770" data-start-seconds="97">two strings in JavaScript.</span></p>
      <p><span data-start="01:40.770" data-end="01:43.100" data-start-seconds="100">You would probably write a</span> <span data-start="01:40.770" data-end="01:43.100" data-start-seconds="100">function kind of like this.</span></p>
      <p><span data-start="01:43.100" data-end="01:44.440" data-start-seconds="103">Well, maybe you wouldn't</span> <span data-start="01:43.100" data-end="01:44.440" data-start-seconds="103">even write a function.</span></p>
      <p><span data-start="01:44.440" data-end="01:46.720" data-start-seconds="104">You would just use the</span> <span data-start="01:44.440" data-end="01:46.720" data-start-seconds="104">equality operator, right?</span> <span data-start="01:46.720" data-end="01:48.490" data-start-seconds="106">And this example</span> <span data-start="01:46.720" data-end="01:48.490" data-start-seconds="106">is in JavaScript,</span> <span data-start="01:48.490" data-end="01:50.890" data-start-seconds="108">but this applies to any</span> <span data-start="01:48.490" data-end="01:50.890" data-start-seconds="108">programming language,</span> <span data-start="01:50.890" data-end="01:53.170" data-start-seconds="110">because under the hood,</span> <span data-start="01:50.890" data-end="01:53.170" data-start-seconds="110">this programming language</span> <span data-start="01:53.170" data-end="01:56.460" data-start-seconds="113">implements the equality</span> <span data-start="01:53.170" data-end="01:56.460" data-start-seconds="113">operator for strings somehow.</span></p>
      <p><span data-start="01:56.460" data-end="01:58.060" data-start-seconds="116">So let's see some examples here.</span></p>
      <p><span data-start="01:58.060" data-end="02:00.780" data-start-seconds="118">Well, OK, we compare the</span> <span data-start="01:58.060" data-end="02:00.780" data-start-seconds="118">string Fronteers with itself,</span> <span data-start="02:00.780" data-end="02:02.040" data-start-seconds="120">and the result is true.</span></p>
      <p><span data-start="02:02.040" data-end="02:04.090" data-start-seconds="122">And if we compare two</span> <span data-start="02:02.040" data-end="02:04.090" data-start-seconds="122">strings that are different,</span> <span data-start="02:04.090" data-end="02:05.190" data-start-seconds="124">the result is false.</span></p>
      <p><span data-start="02:05.190" data-end="02:07.450" data-start-seconds="125">This is exactly what</span> <span data-start="02:05.190" data-end="02:07.450" data-start-seconds="125">we would expect.</span></p>
      <p><span data-start="02:07.450" data-end="02:10.020" data-start-seconds="127">Now, this is supposed to</span> <span data-start="02:07.450" data-end="02:10.020" data-start-seconds="127">be about performance, so</span> <span data-start="02:10.020" data-end="02:12.830" data-start-seconds="130">let's time how long</span> <span data-start="02:10.020" data-end="02:12.830" data-start-seconds="130">these operations take.</span></p>
      <p><span data-start="02:12.830" data-end="02:15.770" data-start-seconds="132">Well, in the first case, it</span> <span data-start="02:12.830" data-end="02:15.770" data-start-seconds="132">takes about 1,000 microseconds,</span> <span data-start="02:15.770" data-end="02:16.590" data-start-seconds="135">let's say.</span></p>
      <p><span data-start="02:16.590" data-end="02:18.730" data-start-seconds="136">But if we compare</span> <span data-start="02:16.590" data-end="02:18.730" data-start-seconds="136">the string Fronteers</span> <span data-start="02:18.730" data-end="02:21.300" data-start-seconds="138">with an S at the end with</span> <span data-start="02:18.730" data-end="02:21.300" data-start-seconds="138">Fronteers with a Z at the end,</span> <span data-start="02:21.300" data-end="02:24.030" data-start-seconds="141">it also takes about</span> <span data-start="02:21.300" data-end="02:24.030" data-start-seconds="141">1,000 microseconds.</span></p>
      <p><span data-start="02:24.030" data-end="02:27.490" data-start-seconds="144">However, if we compare</span> <span data-start="02:24.030" data-end="02:27.490" data-start-seconds="144">spring with thing,</span> <span data-start="02:27.490" data-end="02:30.870" data-start-seconds="147">this operation completes</span> <span data-start="02:27.490" data-end="02:30.870" data-start-seconds="147">in only 100 microseconds.</span></p>
      <p><span data-start="02:30.870" data-end="02:33.760" data-start-seconds="150">And if we compare</span> <span data-start="02:30.870" data-end="02:33.760" data-start-seconds="150">CSS with XSS, we</span> <span data-start="02:33.760" data-end="02:35.710" data-start-seconds="153">get the result in</span> <span data-start="02:33.760" data-end="02:35.710" data-start-seconds="153">200 microseconds.</span></p>
      <p><span data-start="02:35.710" data-end="02:37.280" data-start-seconds="155">So there's a lot</span> <span data-start="02:35.710" data-end="02:37.280" data-start-seconds="155">of differences here</span> <span data-start="02:37.280" data-end="02:39.660" data-start-seconds="157">between how long it takes</span> <span data-start="02:37.280" data-end="02:39.660" data-start-seconds="157">for this function to run,</span> <span data-start="02:39.660" data-end="02:42.370" data-start-seconds="159">depending on the different</span> <span data-start="02:39.660" data-end="02:42.370" data-start-seconds="159">inputs that we feed it.</span></p>
      <p><span data-start="02:42.370" data-end="02:43.700" data-start-seconds="162">So why is that?</span> <span data-start="02:43.700" data-end="02:45.420" data-start-seconds="163">Well, the answer lies</span> <span data-start="02:43.700" data-end="02:45.420" data-start-seconds="163">in what I mentioned</span> <span data-start="02:45.420" data-end="02:47.390" data-start-seconds="165">before, the way the</span> <span data-start="02:45.420" data-end="02:47.390" data-start-seconds="165">JavaScript engine</span> <span data-start="02:47.390" data-end="02:49.920" data-start-seconds="167">or the engine of the programming</span> <span data-start="02:47.390" data-end="02:49.920" data-start-seconds="167">language that you're using</span> <span data-start="02:49.920" data-end="02:52.670" data-start-seconds="169">implements this equality</span> <span data-start="02:49.920" data-end="02:52.670" data-start-seconds="169">in between strings.</span></p>
      <p><span data-start="02:52.670" data-end="02:55.080" data-start-seconds="172">And just imagine how you</span> <span data-start="02:52.670" data-end="02:55.080" data-start-seconds="172">would be implementing this</span> <span data-start="02:55.080" data-end="02:57.900" data-start-seconds="175">if there was no way to</span> <span data-start="02:55.080" data-end="02:57.900" data-start-seconds="175">compare strings directly.</span></p>
      <p><span data-start="02:57.900" data-end="03:00.410" data-start-seconds="177">You would have to loop over</span> <span data-start="02:57.900" data-end="03:00.410" data-start-seconds="177">each character in the string,</span> <span data-start="03:00.410" data-end="03:03.290" data-start-seconds="180">get its character code, and</span> <span data-start="03:00.410" data-end="03:03.290" data-start-seconds="180">then compare those numbers</span> <span data-start="03:03.290" data-end="03:04.967" data-start-seconds="183">one by one in the loop.</span></p>
      <p><span data-start="03:04.967" data-end="03:06.550" data-start-seconds="184">But there are some</span> <span data-start="03:04.967" data-end="03:06.550" data-start-seconds="184">obvious performance</span> <span data-start="03:06.550" data-end="03:10.540" data-start-seconds="186">optimizations that we</span> <span data-start="03:06.550" data-end="03:10.540" data-start-seconds="186">can apply in such a case.</span></p>
      <p><span data-start="03:10.540" data-end="03:13.000" data-start-seconds="190">It would look probably</span> <span data-start="03:10.540" data-end="03:13.000" data-start-seconds="190">something like this.</span></p>
      <p><span data-start="03:13.000" data-end="03:14.900" data-start-seconds="193">So the first</span> <span data-start="03:13.000" data-end="03:14.900" data-start-seconds="193">optimization that we</span> <span data-start="03:14.900" data-end="03:17.220" data-start-seconds="194">can do before we even</span> <span data-start="03:14.900" data-end="03:17.220" data-start-seconds="194">get to the looping part</span> <span data-start="03:17.220" data-end="03:19.540" data-start-seconds="197">is just check the</span> <span data-start="03:17.220" data-end="03:19.540" data-start-seconds="197">length of these strings.</span></p>
      <p><span data-start="03:19.540" data-end="03:21.290" data-start-seconds="199">If the length of the</span> <span data-start="03:19.540" data-end="03:21.290" data-start-seconds="199">strings is different,</span> <span data-start="03:21.290" data-end="03:23.930" data-start-seconds="201">then we know that the strings</span> <span data-start="03:21.290" data-end="03:23.930" data-start-seconds="201">cannot possibly be equal.</span></p>
      <p><span data-start="03:23.930" data-end="03:25.690" data-start-seconds="203">So we can just return</span> <span data-start="03:23.930" data-end="03:25.690" data-start-seconds="203">false right away</span> <span data-start="03:25.690" data-end="03:27.830" data-start-seconds="205">and avoid doing any more work.</span></p>
      <p><span data-start="03:27.830" data-end="03:29.304" data-start-seconds="207">This is an early exit.</span></p>
      <p><span data-start="03:29.304" data-end="03:31.220" data-start-seconds="209">Now, there is another</span> <span data-start="03:29.304" data-end="03:31.220" data-start-seconds="209">performance optimization</span> <span data-start="03:31.220" data-end="03:33.680" data-start-seconds="211">that we can perform</span> <span data-start="03:31.220" data-end="03:33.680" data-start-seconds="211">from within the loop.</span></p>
      <p><span data-start="03:33.680" data-end="03:36.660" data-start-seconds="213">As soon as we find a character</span> <span data-start="03:33.680" data-end="03:36.660" data-start-seconds="213">at a certain position that</span> <span data-start="03:36.660" data-end="03:38.620" data-start-seconds="216">is different in between</span> <span data-start="03:36.660" data-end="03:38.620" data-start-seconds="216">the two strings,</span> <span data-start="03:38.620" data-end="03:41.800" data-start-seconds="218">we can also exit early and</span> <span data-start="03:38.620" data-end="03:41.800" data-start-seconds="218">just return false right away.</span></p>
      <p><span data-start="03:41.800" data-end="03:44.110" data-start-seconds="221">There's no reason for us to</span> <span data-start="03:41.800" data-end="03:44.110" data-start-seconds="221">be checking those remaining</span> <span data-start="03:44.110" data-end="03:46.670" data-start-seconds="224">characters at that point.</span></p>
      <p><span data-start="03:46.670" data-end="03:49.080" data-start-seconds="226">Well, in terms of performance,</span> <span data-start="03:46.670" data-end="03:49.080" data-start-seconds="226">the worst case scenario</span> <span data-start="03:49.080" data-end="03:50.757" data-start-seconds="229">is really if the</span> <span data-start="03:49.080" data-end="03:50.757" data-start-seconds="229">strings are equal,</span> <span data-start="03:50.757" data-end="03:52.590" data-start-seconds="230">because it means you</span> <span data-start="03:50.757" data-end="03:52.590" data-start-seconds="230">have to run through all</span> <span data-start="03:52.590" data-end="03:54.590" data-start-seconds="232">the possible characters</span> <span data-start="03:52.590" data-end="03:54.590" data-start-seconds="232">in each string</span> <span data-start="03:54.590" data-end="03:56.070" data-start-seconds="234">and compare them one by one.</span></p>
      <p><span data-start="03:56.070" data-end="03:59.750" data-start-seconds="236">And only at the very</span> <span data-start="03:56.070" data-end="03:59.750" data-start-seconds="236">end you can return true.</span></p>
      <p><span data-start="03:59.750" data-end="04:02.040" data-start-seconds="239">So looking back on</span> <span data-start="03:59.750" data-end="04:02.040" data-start-seconds="239">our earlier results,</span> <span data-start="04:02.040" data-end="04:06.160" data-start-seconds="242">this kind of explains why there</span> <span data-start="04:02.040" data-end="04:06.160" data-start-seconds="242">is such a difference there.</span></p>
      <p><span data-start="04:06.160" data-end="04:08.080" data-start-seconds="246">So if we compare</span> <span data-start="04:06.160" data-end="04:08.080" data-start-seconds="246">Fronteers with an S</span> <span data-start="04:08.080" data-end="04:10.620" data-start-seconds="248">at the end with Fronteers</span> <span data-start="04:08.080" data-end="04:10.620" data-start-seconds="248">with a Z at the end,</span> <span data-start="04:10.620" data-end="04:12.440" data-start-seconds="250">the optimization</span> <span data-start="04:10.620" data-end="04:12.440" data-start-seconds="250">number two kicks in,</span> <span data-start="04:12.440" data-end="04:14.310" data-start-seconds="252">but there's not a</span> <span data-start="04:12.440" data-end="04:14.310" data-start-seconds="252">lot of advantage</span> <span data-start="04:14.310" data-end="04:16.070" data-start-seconds="254">there because the</span> <span data-start="04:14.310" data-end="04:16.070" data-start-seconds="254">optimization only</span> <span data-start="04:16.070" data-end="04:18.620" data-start-seconds="256">kicks in at the very last</span> <span data-start="04:16.070" data-end="04:18.620" data-start-seconds="256">character of the string.</span></p>
      <p><span data-start="04:18.620" data-end="04:22.340" data-start-seconds="258">And at that point, well, all</span> <span data-start="04:18.620" data-end="04:22.340" data-start-seconds="258">the work has been done anyway.</span></p>
      <p><span data-start="04:22.340" data-end="04:25.920" data-start-seconds="262">Now, if we compare spring with</span> <span data-start="04:22.340" data-end="04:25.920" data-start-seconds="262">thing, on the other hand--</span> <span data-start="04:25.920" data-end="04:27.630" data-start-seconds="265">careful there.</span></p>
      <p><span data-start="04:27.630" data-end="04:29.340" data-start-seconds="267">So if you compare</span> <span data-start="04:27.630" data-end="04:29.340" data-start-seconds="267">spring with thing,</span> <span data-start="04:29.340" data-end="04:30.930" data-start-seconds="269">this will be a really</span> <span data-start="04:29.340" data-end="04:30.930" data-start-seconds="269">fast operation,</span> <span data-start="04:30.930" data-end="04:33.471" data-start-seconds="270">because these two strings have</span> <span data-start="04:30.930" data-end="04:33.471" data-start-seconds="270">a completely different length.</span></p>
      <p><span data-start="04:33.471" data-end="04:35.960" data-start-seconds="273">So all that happens is really</span> <span data-start="04:33.471" data-end="04:35.960" data-start-seconds="273">the checking of the length</span> <span data-start="04:35.960" data-end="04:38.530" data-start-seconds="275">and then the return</span> <span data-start="04:35.960" data-end="04:38.530" data-start-seconds="275">false kicks in.</span></p>
      <p><span data-start="04:38.530" data-end="04:41.470" data-start-seconds="278">Finally, if we</span> <span data-start="04:38.530" data-end="04:41.470" data-start-seconds="278">compare CSS with XSS,</span> <span data-start="04:41.470" data-end="04:42.900" data-start-seconds="281">the second</span> <span data-start="04:41.470" data-end="04:42.900" data-start-seconds="281">optimization kicks in,</span> <span data-start="04:42.900" data-end="04:46.160" data-start-seconds="282">and this time this</span> <span data-start="04:42.900" data-end="04:46.160" data-start-seconds="282">advantage is because it's</span> <span data-start="04:46.160" data-end="04:48.000" data-start-seconds="286">the very first character</span> <span data-start="04:46.160" data-end="04:48.000" data-start-seconds="286">of the two strings</span> <span data-start="04:48.000" data-end="04:49.260" data-start-seconds="288">that is already different.</span></p>
      <p><span data-start="04:49.260" data-end="04:52.220" data-start-seconds="289">So we only have to</span> <span data-start="04:49.260" data-end="04:52.220" data-start-seconds="289">check one character.</span></p>
      <p><span data-start="04:52.220" data-end="04:54.810" data-start-seconds="292">It only hits that loop</span> <span data-start="04:52.220" data-end="04:54.810" data-start-seconds="292">for one iteration,</span> <span data-start="04:54.810" data-end="04:56.900" data-start-seconds="294">and after that we</span> <span data-start="04:54.810" data-end="04:56.900" data-start-seconds="294">just return false.</span></p>
      <p><span data-start="04:56.900" data-end="04:59.530" data-start-seconds="296">And this explains the</span> <span data-start="04:56.900" data-end="04:59.530" data-start-seconds="296">difference in timings here.</span></p>
      <p><span data-start="04:59.530" data-end="05:01.160" data-start-seconds="299">So the main thing</span> <span data-start="04:59.530" data-end="05:01.160" data-start-seconds="299">to remember here</span> <span data-start="05:01.160" data-end="05:03.565" data-start-seconds="301">is that we're not just</span> <span data-start="05:01.160" data-end="05:03.565" data-start-seconds="301">getting a Boolean result out</span> <span data-start="05:03.565" data-end="05:05.230" data-start-seconds="303">of this function call.</span></p>
      <p><span data-start="05:05.230" data-end="05:07.300" data-start-seconds="305">We can infer a lot</span> <span data-start="05:05.230" data-end="05:07.300" data-start-seconds="305">more information</span> <span data-start="05:07.300" data-end="05:09.120" data-start-seconds="307">about the inner</span> <span data-start="05:07.300" data-end="05:09.120" data-start-seconds="307">workings of the function</span> <span data-start="05:09.120" data-end="05:11.730" data-start-seconds="309">by just timing it and</span> <span data-start="05:09.120" data-end="05:11.730" data-start-seconds="309">looking how much time it</span> <span data-start="05:11.730" data-end="05:14.010" data-start-seconds="311">takes for the function</span> <span data-start="05:11.730" data-end="05:14.010" data-start-seconds="311">call to complete.</span></p>
      <p><span data-start="05:14.010" data-end="05:16.140" data-start-seconds="314">And this is what is known</span> <span data-start="05:14.010" data-end="05:16.140" data-start-seconds="314">in the cryptography world</span> <span data-start="05:16.140" data-end="05:19.270" data-start-seconds="316">as a side channel leak,</span> <span data-start="05:16.140" data-end="05:19.270" data-start-seconds="316">because the side channel that</span> <span data-start="05:19.270" data-end="05:21.970" data-start-seconds="319">is being used in this case</span> <span data-start="05:19.270" data-end="05:21.970" data-start-seconds="319">is the timing measurement.</span></p>
      <p><span data-start="05:21.970" data-end="05:24.120" data-start-seconds="321">You could say that this</span> <span data-start="05:21.970" data-end="05:24.120" data-start-seconds="321">function, or just comparing</span> <span data-start="05:24.120" data-end="05:28.940" data-start-seconds="324">two strings in this way, is</span> <span data-start="05:24.120" data-end="05:28.940" data-start-seconds="324">vulnerable to a timing attack.</span></p>
      <p><span data-start="05:28.940" data-end="05:31.170" data-start-seconds="328">And that's what I'm going</span> <span data-start="05:28.940" data-end="05:31.170" data-start-seconds="328">to be talking about today.</span></p>
      <p><span data-start="05:31.170" data-end="05:33.480" data-start-seconds="331">Now, usually this is</span> <span data-start="05:31.170" data-end="05:33.480" data-start-seconds="331">not really a problem.</span></p>
      <p><span data-start="05:33.480" data-end="05:36.070" data-start-seconds="333">You want string comparisons to</span> <span data-start="05:33.480" data-end="05:36.070" data-start-seconds="333">be as performant as possible</span> <span data-start="05:36.070" data-end="05:38.860" data-start-seconds="336">if you're just comparing two</span> <span data-start="05:36.070" data-end="05:38.860" data-start-seconds="336">strings on the front end,</span> <span data-start="05:38.860" data-end="05:40.380" data-start-seconds="338">on the client side,</span> <span data-start="05:38.860" data-end="05:40.380" data-start-seconds="338">because there's</span> <span data-start="05:40.380" data-end="05:42.119" data-start-seconds="340">no secrets in your</span> <span data-start="05:40.380" data-end="05:42.119" data-start-seconds="340">JavaScript files.</span></p>
      <p><span data-start="05:42.119" data-end="05:44.410" data-start-seconds="342">I mean, if you're going to</span> <span data-start="05:42.119" data-end="05:44.410" data-start-seconds="342">hide a password or something</span> <span data-start="05:44.410" data-end="05:47.470" data-start-seconds="344">else that's supposed to be</span> <span data-start="05:44.410" data-end="05:47.470" data-start-seconds="344">secret in a JavaScript file,</span> <span data-start="05:47.470" data-end="05:50.370" data-start-seconds="347">then someone is going to find</span> <span data-start="05:47.470" data-end="05:50.370" data-start-seconds="347">it without even using a timing</span> <span data-start="05:50.370" data-end="05:51.350" data-start-seconds="350">attack.</span></p>
      <p><span data-start="05:51.350" data-end="05:55.370" data-start-seconds="351">However, the problem starts when</span> <span data-start="05:51.350" data-end="05:55.370" data-start-seconds="351">you compare some user input,</span> <span data-start="05:55.370" data-end="05:58.810" data-start-seconds="355">for example, with a value that</span> <span data-start="05:55.370" data-end="05:58.810" data-start-seconds="355">is supposed to remain secret.</span></p>
      <p><span data-start="05:58.810" data-end="06:00.730" data-start-seconds="358">Because all those</span> <span data-start="05:58.810" data-end="06:00.730" data-start-seconds="358">performance optimizations</span> <span data-start="06:00.730" data-end="06:04.290" data-start-seconds="360">that we implemented earlier</span> <span data-start="06:00.730" data-end="06:04.290" data-start-seconds="360">are now suddenly a weakness</span> <span data-start="06:04.290" data-end="06:05.950" data-start-seconds="364">in this code.</span></p>
      <p><span data-start="06:05.950" data-end="06:07.940" data-start-seconds="365">The very first optimization</span> <span data-start="06:05.950" data-end="06:07.940" data-start-seconds="365">where we actually</span> <span data-start="06:07.940" data-end="06:11.006" data-start-seconds="367">return early from the</span> <span data-start="06:07.940" data-end="06:11.006" data-start-seconds="367">function, return false,</span> <span data-start="06:11.006" data-end="06:13.130" data-start-seconds="371">if the length between the</span> <span data-start="06:11.006" data-end="06:13.130" data-start-seconds="371">two strings is different,</span> <span data-start="06:13.130" data-end="06:16.856" data-start-seconds="373">this allows us to basically</span> <span data-start="06:13.130" data-end="06:16.856" data-start-seconds="373">figure out how many characters</span> <span data-start="06:16.856" data-end="06:19.219" data-start-seconds="376">the secret string contains.</span></p>
      <p><span data-start="06:19.219" data-end="06:20.760" data-start-seconds="379">We can figure out</span> <span data-start="06:19.219" data-end="06:20.760" data-start-seconds="379">the expected length</span> <span data-start="06:20.760" data-end="06:22.990" data-start-seconds="380">just by trying a number</span> <span data-start="06:20.760" data-end="06:22.990" data-start-seconds="380">of different inputs</span> <span data-start="06:22.990" data-end="06:26.020" data-start-seconds="382">and measuring how long it takes</span> <span data-start="06:22.990" data-end="06:26.020" data-start-seconds="382">for the operation to complete.</span></p>
      <p><span data-start="06:26.020" data-end="06:29.120" data-start-seconds="386">An attacker could just send one</span> <span data-start="06:26.020" data-end="06:29.120" data-start-seconds="386">character, then two characters,</span> <span data-start="06:29.120" data-end="06:30.240" data-start-seconds="389">then three characters.</span></p>
      <p><span data-start="06:30.240" data-end="06:32.410" data-start-seconds="390">Just time how long each</span> <span data-start="06:30.240" data-end="06:32.410" data-start-seconds="390">of those operations</span> <span data-start="06:32.410" data-end="06:35.650" data-start-seconds="392">take, and as soon as</span> <span data-start="06:32.410" data-end="06:35.650" data-start-seconds="392">one of those operations</span> <span data-start="06:35.650" data-end="06:38.060" data-start-seconds="395">takes a bit longer than</span> <span data-start="06:35.650" data-end="06:38.060" data-start-seconds="395">all the previous ones,</span> <span data-start="06:38.060" data-end="06:39.910" data-start-seconds="398">that's when you know</span> <span data-start="06:38.060" data-end="06:39.910" data-start-seconds="398">you found the expected</span> <span data-start="06:39.910" data-end="06:42.004" data-start-seconds="399">length of the secret string.</span></p>
      <p><span data-start="06:42.004" data-end="06:44.420" data-start-seconds="402">So then you know the length</span> <span data-start="06:42.004" data-end="06:44.420" data-start-seconds="402">of the expected secret string,</span> <span data-start="06:44.420" data-end="06:46.000" data-start-seconds="404">like the password or hash.</span></p>
      <p><span data-start="06:46.000" data-end="06:48.400" data-start-seconds="406">It could be anything that's</span> <span data-start="06:46.000" data-end="06:48.400" data-start-seconds="406">supposed to be secret.</span></p>
      <p><span data-start="06:48.400" data-end="06:50.300" data-start-seconds="408">So then you end up</span> <span data-start="06:48.400" data-end="06:50.300" data-start-seconds="408">within the loop.</span></p>
      <p><span data-start="06:50.300" data-end="06:52.945" data-start-seconds="410">You just create a string</span> <span data-start="06:50.300" data-end="06:52.945" data-start-seconds="410">of the desired length,</span> <span data-start="06:52.945" data-end="06:54.570" data-start-seconds="412">and you start with</span> <span data-start="06:52.945" data-end="06:54.570" data-start-seconds="412">the first character.</span></p>
      <p><span data-start="06:54.570" data-end="06:56.320" data-start-seconds="414">You can start guessing</span> <span data-start="06:54.570" data-end="06:56.320" data-start-seconds="414">for that character.</span></p>
      <p><span data-start="06:56.320" data-end="07:00.530" data-start-seconds="416">You try the character A,</span> <span data-start="06:56.320" data-end="07:00.530" data-start-seconds="416">then B, then C, and so on.</span></p>
      <p><span data-start="07:00.530" data-end="07:02.630" data-start-seconds="420">And, again, you just</span> <span data-start="07:00.530" data-end="07:02.630" data-start-seconds="420">time everything,</span> <span data-start="07:02.630" data-end="07:05.750" data-start-seconds="422">and as soon as your timing</span> <span data-start="07:02.630" data-end="07:05.750" data-start-seconds="422">measurement is a bit greater</span> <span data-start="07:05.750" data-end="07:07.870" data-start-seconds="425">than all the previous</span> <span data-start="07:05.750" data-end="07:07.870" data-start-seconds="425">attempts, it probably</span> <span data-start="07:07.870" data-end="07:09.980" data-start-seconds="427">means you found the correct</span> <span data-start="07:07.870" data-end="07:09.980" data-start-seconds="427">character, because it</span> <span data-start="07:09.980" data-end="07:12.890" data-start-seconds="429">means the function won't return</span> <span data-start="07:09.980" data-end="07:12.890" data-start-seconds="429">false from that iteration</span> <span data-start="07:12.890" data-end="07:13.390" data-start-seconds="432">anymore.</span></p>
      <p><span data-start="07:13.390" data-end="07:15.806" data-start-seconds="433">It will continue on to the</span> <span data-start="07:13.390" data-end="07:15.806" data-start-seconds="433">next character within the loop,</span> <span data-start="07:15.806" data-end="07:20.080" data-start-seconds="435">and it will call some</span> <span data-start="07:15.806" data-end="07:20.080" data-start-seconds="435">more code at that point.</span></p>
      <p><span data-start="07:20.080" data-end="07:23.410" data-start-seconds="440">So we can use this</span> <span data-start="07:20.080" data-end="07:23.410" data-start-seconds="440">timing side channel</span> <span data-start="07:23.410" data-end="07:26.070" data-start-seconds="443">to figure out pretty much all</span> <span data-start="07:23.410" data-end="07:26.070" data-start-seconds="443">the characters in the string</span> <span data-start="07:26.070" data-end="07:27.570" data-start-seconds="446">as well as the desired length.</span></p>
      <p><span data-start="07:27.570" data-end="07:29.050" data-start-seconds="447">And then for the</span> <span data-start="07:27.570" data-end="07:29.050" data-start-seconds="447">final character,</span> <span data-start="07:29.050" data-end="07:30.925" data-start-seconds="449">you would still have to</span> <span data-start="07:29.050" data-end="07:30.925" data-start-seconds="449">brute force that one.</span></p>
      <p><span data-start="07:30.925" data-end="07:33.880" data-start-seconds="450">But at that point, it's</span> <span data-start="07:30.925" data-end="07:33.880" data-start-seconds="450">pretty easy to do that.</span></p>
      <p><span data-start="07:33.880" data-end="07:35.760" data-start-seconds="453">So how can we avoid</span> <span data-start="07:33.880" data-end="07:35.760" data-start-seconds="453">this kind of problem</span> <span data-start="07:35.760" data-end="07:38.400" data-start-seconds="455">in this specific case for</span> <span data-start="07:35.760" data-end="07:38.400" data-start-seconds="455">the comparison function?</span> <span data-start="07:38.400" data-end="07:41.340" data-start-seconds="458">Well, if you're comparing</span> <span data-start="07:38.400" data-end="07:41.340" data-start-seconds="458">anything sensitive in strings,</span> <span data-start="07:41.340" data-end="07:43.280" data-start-seconds="461">you should use a safe</span> <span data-start="07:41.340" data-end="07:43.280" data-start-seconds="461">comparison function.</span></p>
      <p><span data-start="07:43.280" data-end="07:46.132" data-start-seconds="463">This is called a constant</span> <span data-start="07:43.280" data-end="07:46.132" data-start-seconds="463">time comparison function.</span></p>
      <p><span data-start="07:46.132" data-end="07:47.930" data-start-seconds="466">And how do you create</span> <span data-start="07:46.132" data-end="07:47.930" data-start-seconds="466">such a function?</span> <span data-start="07:47.930" data-end="07:50.410" data-start-seconds="467">Well, you basically just</span> <span data-start="07:47.930" data-end="07:50.410" data-start-seconds="467">undo all those performance</span> <span data-start="07:50.410" data-end="07:52.730" data-start-seconds="470">optimizations that</span> <span data-start="07:50.410" data-end="07:52.730" data-start-seconds="470">we had there before.</span></p>
      <p><span data-start="07:52.730" data-end="07:54.950" data-start-seconds="472">You avoid any kind</span> <span data-start="07:52.730" data-end="07:54.950" data-start-seconds="472">of early exits</span> <span data-start="07:54.950" data-end="07:57.030" data-start-seconds="474">and, not only that, you</span> <span data-start="07:54.950" data-end="07:57.030" data-start-seconds="474">also try to make sure</span> <span data-start="07:57.030" data-end="08:00.840" data-start-seconds="477">that the function executes the</span> <span data-start="07:57.030" data-end="08:00.840" data-start-seconds="477">same number of instructions,</span> <span data-start="08:00.840" data-end="08:02.457" data-start-seconds="480">regardless of the input.</span></p>
      <p><span data-start="08:02.457" data-end="08:04.540" data-start-seconds="482">So here you can see, I'm</span> <span data-start="08:02.457" data-end="08:04.540" data-start-seconds="482">still checking the length</span> <span data-start="08:04.540" data-end="08:05.914" data-start-seconds="484">at the beginning</span> <span data-start="08:04.540" data-end="08:05.914" data-start-seconds="484">of the function,</span> <span data-start="08:05.914" data-end="08:07.850" data-start-seconds="485">but rather than</span> <span data-start="08:05.914" data-end="08:07.850" data-start-seconds="485">returning early, I just</span> <span data-start="08:07.850" data-end="08:10.700" data-start-seconds="487">store this kind of as a</span> <span data-start="08:07.850" data-end="08:10.700" data-start-seconds="487">flag and some variable.</span></p>
      <p><span data-start="08:10.700" data-end="08:13.960" data-start-seconds="490">And I still go through the</span> <span data-start="08:10.700" data-end="08:13.960" data-start-seconds="490">entire looping process,</span> <span data-start="08:13.960" data-end="08:16.020" data-start-seconds="493">even though I know it</span> <span data-start="08:13.960" data-end="08:16.020" data-start-seconds="493">won't really be necessary.</span></p>
      <p><span data-start="08:16.020" data-end="08:19.130" data-start-seconds="496">But the main goal is to make</span> <span data-start="08:16.020" data-end="08:19.130" data-start-seconds="496">sure the function does not</span> <span data-start="08:19.130" data-end="08:23.340" data-start-seconds="499">execute much faster</span> <span data-start="08:19.130" data-end="08:23.340" data-start-seconds="499">depending on the input.</span></p>
      <p><span data-start="08:23.340" data-end="08:26.386" data-start-seconds="503">So this is a very simple</span> <span data-start="08:23.340" data-end="08:26.386" data-start-seconds="503">example of a timing attack.</span></p>
      <p><span data-start="08:26.386" data-end="08:29.170" data-start-seconds="506">And you're probably wondering</span> <span data-start="08:26.386" data-end="08:29.170" data-start-seconds="506">how we, as front-end web</span> <span data-start="08:29.170" data-end="08:32.610" data-start-seconds="509">developers, can actually execute</span> <span data-start="08:29.170" data-end="08:32.610" data-start-seconds="509">a timing attack on the client</span> <span data-start="08:32.610" data-end="08:36.308" data-start-seconds="512">side and thereby attack</span> <span data-start="08:32.610" data-end="08:36.308" data-start-seconds="512">the users of our website.</span></p>
      <p><span data-start="08:36.308" data-end="08:40.440" data-start-seconds="516">Well, here's some very simple</span> <span data-start="08:36.308" data-end="08:40.440" data-start-seconds="516">code that you can use for this.</span></p>
      <p><span data-start="08:40.440" data-end="08:42.808" data-start-seconds="520">What you could do is</span> <span data-start="08:40.440" data-end="08:42.808" data-start-seconds="520">you could start a timer</span> <span data-start="08:42.808" data-end="08:45.886" data-start-seconds="522">and then load an HTML</span> <span data-start="08:42.808" data-end="08:45.886" data-start-seconds="522">page as an image.</span></p>
      <p><span data-start="08:45.886" data-end="08:47.760" data-start-seconds="525">Now the browser will</span> <span data-start="08:45.886" data-end="08:47.760" data-start-seconds="525">start loading this page,</span> <span data-start="08:47.760" data-end="08:50.301" data-start-seconds="527">but when the browser tries to</span> <span data-start="08:47.760" data-end="08:50.301" data-start-seconds="527">parse it as an image, of course</span> <span data-start="08:50.301" data-end="08:54.030" data-start-seconds="530">it will fail, because most HTML</span> <span data-start="08:50.301" data-end="08:54.030" data-start-seconds="530">documents aren't valid images.</span></p>
      <p><span data-start="08:54.030" data-end="08:57.904" data-start-seconds="534">And at that point, the Error</span> <span data-start="08:54.030" data-end="08:57.904" data-start-seconds="534">Event Handler will be fired.</span></p>
      <p><span data-start="08:57.904" data-end="08:59.570" data-start-seconds="537">So at that point, you</span> <span data-start="08:57.904" data-end="08:59.570" data-start-seconds="537">can stop the timer</span> <span data-start="08:59.570" data-end="09:01.530" data-start-seconds="539">and just log the results.</span></p>
      <p><span data-start="09:01.530" data-end="09:03.410" data-start-seconds="541">So when I fill in</span> <span data-start="09:01.530" data-end="09:03.410" data-start-seconds="541">the blanks here,</span> <span data-start="09:03.410" data-end="09:05.390" data-start-seconds="543">it looks something like this.</span></p>
      <p><span data-start="09:05.390" data-end="09:07.580" data-start-seconds="545">And this very</span> <span data-start="09:05.390" data-end="09:07.580" data-start-seconds="545">simple piece of code</span> <span data-start="09:07.580" data-end="09:10.610" data-start-seconds="547">will give you an idea of how</span> <span data-start="09:07.580" data-end="09:10.610" data-start-seconds="547">long it took for the user</span> <span data-start="09:10.610" data-end="09:12.405" data-start-seconds="550">to download this</span> <span data-start="09:10.610" data-end="09:12.405" data-start-seconds="550">particular resource.</span></p>
      <p><span data-start="09:12.405" data-end="09:16.100" data-start-seconds="552">It could be any your URL</span> <span data-start="09:12.405" data-end="09:16.100" data-start-seconds="552">that is not an image.</span></p>
      <p><span data-start="09:16.100" data-end="09:17.990" data-start-seconds="556">So how is this useful?</span> <span data-start="09:17.990" data-end="09:20.810" data-start-seconds="557">How could we abuse</span> <span data-start="09:17.990" data-end="09:20.810" data-start-seconds="557">this if we were evil?</span> <span data-start="09:20.810" data-end="09:23.620" data-start-seconds="560">Well, imagine that</span> <span data-start="09:20.810" data-end="09:23.620" data-start-seconds="560">a given URL returns</span> <span data-start="09:23.620" data-end="09:27.440" data-start-seconds="563">either a very big response body</span> <span data-start="09:23.620" data-end="09:27.440" data-start-seconds="563">or a very small response body</span> <span data-start="09:27.440" data-end="09:30.150" data-start-seconds="567">based on some</span> <span data-start="09:27.440" data-end="09:30.150" data-start-seconds="567">property of the user.</span></p>
      <p><span data-start="09:30.150" data-end="09:32.090" data-start-seconds="570">And here's an example of that.</span></p>
      <p><span data-start="09:32.090" data-end="09:34.660" data-start-seconds="572">Let's say we're talking about</span> <span data-start="09:32.090" data-end="09:34.660" data-start-seconds="572">a WordPress Administrator</span> <span data-start="09:34.660" data-end="09:36.100" data-start-seconds="574">Dashboard page.</span></p>
      <p><span data-start="09:36.100" data-end="09:37.569" data-start-seconds="576">You have this one URL.</span></p>
      <p><span data-start="09:37.569" data-end="09:39.110" data-start-seconds="577">And if you're not</span> <span data-start="09:37.569" data-end="09:39.110" data-start-seconds="577">logged in, you will</span> <span data-start="09:39.110" data-end="09:41.190" data-start-seconds="579">be presented with a page</span> <span data-start="09:39.110" data-end="09:41.190" data-start-seconds="579">that looks like this.</span></p>
      <p><span data-start="09:41.190" data-end="09:44.570" data-start-seconds="581">It's just a very simple log</span> <span data-start="09:41.190" data-end="09:44.570" data-start-seconds="581">in form asking you to log in.</span></p>
      <p><span data-start="09:44.570" data-end="09:47.610" data-start-seconds="584">It will be a fairly</span> <span data-start="09:44.570" data-end="09:47.610" data-start-seconds="584">lightweight response body.</span></p>
      <p><span data-start="09:47.610" data-end="09:51.360" data-start-seconds="587">Let's say it takes 750</span> <span data-start="09:47.610" data-end="09:51.360" data-start-seconds="587">milliseconds to load.</span></p>
      <p><span data-start="09:51.360" data-end="09:53.650" data-start-seconds="591">However, if the</span> <span data-start="09:51.360" data-end="09:53.650" data-start-seconds="591">user is logged in,</span> <span data-start="09:53.650" data-end="09:56.270" data-start-seconds="593">they will get a response</span> <span data-start="09:53.650" data-end="09:56.270" data-start-seconds="593">body for all of this data.</span></p>
      <p><span data-start="09:56.270" data-end="09:58.594" data-start-seconds="596">So the response</span> <span data-start="09:56.270" data-end="09:58.594" data-start-seconds="596">will be much larger,</span> <span data-start="09:58.594" data-end="10:00.760" data-start-seconds="598">and it's fair to assume it</span> <span data-start="09:58.594" data-end="10:00.760" data-start-seconds="598">takes a little bit longer</span> <span data-start="10:00.760" data-end="10:01.890" data-start-seconds="600">to download as well.</span></p>
      <p><span data-start="10:01.890" data-end="10:05.970" data-start-seconds="601">Let's say it takes 1,250</span> <span data-start="10:01.890" data-end="10:05.970" data-start-seconds="601">milliseconds to download.</span></p>
      <p><span data-start="10:05.970" data-end="10:09.260" data-start-seconds="605">So if we combine this knowledge</span> <span data-start="10:05.970" data-end="10:09.260" data-start-seconds="605">with our timing attack</span> <span data-start="10:09.260" data-end="10:11.650" data-start-seconds="609">from before, we can</span> <span data-start="10:09.260" data-end="10:11.650" data-start-seconds="609">easily figure out</span> <span data-start="10:11.650" data-end="10:13.970" data-start-seconds="611">if a user is logged</span> <span data-start="10:11.650" data-end="10:13.970" data-start-seconds="611">into a certain website,</span> <span data-start="10:13.970" data-end="10:16.410" data-start-seconds="613">just by running some</span> <span data-start="10:13.970" data-end="10:16.410" data-start-seconds="613">JavaScript on our website,</span> <span data-start="10:16.410" data-end="10:18.007" data-start-seconds="616">and that is a big privacy leak.</span></p>
      <p><span data-start="10:18.007" data-end="10:19.840" data-start-seconds="618">You're not supposed to</span> <span data-start="10:18.007" data-end="10:19.840" data-start-seconds="618">be able to figure out</span> <span data-start="10:19.840" data-end="10:23.130" data-start-seconds="619">if a user has even visited a</span> <span data-start="10:19.840" data-end="10:23.130" data-start-seconds="619">certain website in the past.</span></p>
      <p><span data-start="10:23.130" data-end="10:24.917" data-start-seconds="623">And this tells us much more.</span></p>
      <p><span data-start="10:24.917" data-end="10:27.000" data-start-seconds="624">It tells us the user</span> <span data-start="10:24.917" data-end="10:27.000" data-start-seconds="624">actually has an account there</span> <span data-start="10:27.000" data-end="10:30.040" data-start-seconds="627">and is logged in at</span> <span data-start="10:27.000" data-end="10:30.040" data-start-seconds="627">the current time.</span></p>
      <p><span data-start="10:30.040" data-end="10:32.420" data-start-seconds="630">This shouldn't be happening.</span></p>
      <p><span data-start="10:32.420" data-end="10:35.660" data-start-seconds="632">Now, this is a technique</span> <span data-start="10:32.420" data-end="10:35.660" data-start-seconds="632">that I showed you before.</span></p>
      <p><span data-start="10:35.660" data-end="10:39.080" data-start-seconds="635">It's very simple, but it's</span> <span data-start="10:35.660" data-end="10:39.080" data-start-seconds="635">also very crude and definitely</span> <span data-start="10:39.080" data-end="10:40.610" data-start-seconds="639">not super accurate.</span></p>
      <p><span data-start="10:40.610" data-end="10:43.070" data-start-seconds="640">And your all</span> <span data-start="10:40.610" data-end="10:43.070" data-start-seconds="640">performance-savvy people,</span> <span data-start="10:43.070" data-end="10:45.210" data-start-seconds="643">so I'm sure you know</span> <span data-start="10:43.070" data-end="10:45.210" data-start-seconds="643">what's wrong with this kind</span> <span data-start="10:45.210" data-end="10:45.872" data-start-seconds="645">of approach.</span></p>
      <p><span data-start="10:45.872" data-end="10:48.330" data-start-seconds="645">The main problem with it is</span> <span data-start="10:45.872" data-end="10:48.330" data-start-seconds="645">that you're measuring something</span> <span data-start="10:48.330" data-end="10:49.670" data-start-seconds="648">that goes over the network.</span></p>
      <p><span data-start="10:49.670" data-end="10:53.410" data-start-seconds="649">And the network itself</span> <span data-start="10:49.670" data-end="10:53.410" data-start-seconds="649">is inherently unreliable.</span></p>
      <p><span data-start="10:53.410" data-end="10:55.850" data-start-seconds="653">Also file size does</span> <span data-start="10:53.410" data-end="10:55.850" data-start-seconds="653">not necessarily</span> <span data-start="10:55.850" data-end="10:59.300" data-start-seconds="655">correspond to the download</span> <span data-start="10:55.850" data-end="10:59.300" data-start-seconds="655">time because of gzip</span> <span data-start="10:59.300" data-end="11:01.650" data-start-seconds="659">or Brotli compression</span> <span data-start="10:59.300" data-end="11:01.650" data-start-seconds="659">that could be going on.</span></p>
      <p><span data-start="11:01.650" data-end="11:04.580" data-start-seconds="661">And for this kind</span> <span data-start="11:01.650" data-end="11:04.580" data-start-seconds="661">of approach, it only</span> <span data-start="11:04.580" data-end="11:06.150" data-start-seconds="664">measures the download time.</span></p>
      <p><span data-start="11:06.150" data-end="11:08.220" data-start-seconds="666">So it wouldn't know</span> <span data-start="11:06.150" data-end="11:08.220" data-start-seconds="666">the difference.</span></p>
      <p><span data-start="11:08.220" data-end="11:10.470" data-start-seconds="668">You can actually make this</span> <span data-start="11:08.220" data-end="11:10.470" data-start-seconds="668">technique a little bit more</span> <span data-start="11:10.470" data-end="11:13.130" data-start-seconds="670">accurate if you just keep on</span> <span data-start="11:10.470" data-end="11:13.130" data-start-seconds="670">repeating it a couple of times.</span></p>
      <p><span data-start="11:13.130" data-end="11:15.300" data-start-seconds="673">But the obvious downside</span> <span data-start="11:13.130" data-end="11:15.300" data-start-seconds="673">is that then you</span> <span data-start="11:15.300" data-end="11:18.560" data-start-seconds="675">would have to make several HTTP</span> <span data-start="11:15.300" data-end="11:18.560" data-start-seconds="675">requests for the same resource</span> <span data-start="11:18.560" data-end="11:20.670" data-start-seconds="678">over and over again,</span> <span data-start="11:18.560" data-end="11:20.670" data-start-seconds="678">which brings with it</span> <span data-start="11:20.670" data-end="11:22.469" data-start-seconds="680">its own performance problems.</span></p>
      <p><span data-start="11:22.469" data-end="11:24.260" data-start-seconds="682">So in other words, this</span> <span data-start="11:22.469" data-end="11:24.260" data-start-seconds="682">particular approach</span> <span data-start="11:24.260" data-end="11:27.336" data-start-seconds="684">is not very impressive or scary.</span></p>
      <p><span data-start="11:27.336" data-end="11:28.960" data-start-seconds="687">And that's also</span> <span data-start="11:27.336" data-end="11:28.960" data-start-seconds="687">probably why we haven't</span> <span data-start="11:28.960" data-end="11:32.030" data-start-seconds="688">seen a lot of large-scale</span> <span data-start="11:28.960" data-end="11:32.030" data-start-seconds="688">timing attacks on the web.</span></p>
      <p><span data-start="11:32.030" data-end="11:33.820" data-start-seconds="692">But the key to</span> <span data-start="11:32.030" data-end="11:33.820" data-start-seconds="692">improving this attack</span> <span data-start="11:33.820" data-end="11:36.390" data-start-seconds="693">is to avoid any kind</span> <span data-start="11:33.820" data-end="11:36.390" data-start-seconds="693">of network measurements</span> <span data-start="11:36.390" data-end="11:39.350" data-start-seconds="696">as much as possible.</span></p>
      <p><span data-start="11:39.350" data-end="11:42.140" data-start-seconds="699">Some recent web</span> <span data-start="11:39.350" data-end="11:42.140" data-start-seconds="699">standards, some of which</span> <span data-start="11:42.140" data-end="11:44.100" data-start-seconds="702">are performance related,</span> <span data-start="11:42.140" data-end="11:44.100" data-start-seconds="702">have accidentally</span> <span data-start="11:44.100" data-end="11:46.080" data-start-seconds="704">enabled some more</span> <span data-start="11:44.100" data-end="11:46.080" data-start-seconds="704">robust techniques</span> <span data-start="11:46.080" data-end="11:48.224" data-start-seconds="706">that we can use to perform</span> <span data-start="11:46.080" data-end="11:48.224" data-start-seconds="706">these timing attacks.</span></p>
      <p><span data-start="11:48.224" data-end="11:49.640" data-start-seconds="708">And I'm going to</span> <span data-start="11:48.224" data-end="11:49.640" data-start-seconds="708">show you a couple</span> <span data-start="11:49.640" data-end="11:53.900" data-start-seconds="709">of quick demos of fairly recent</span> <span data-start="11:49.640" data-end="11:53.900" data-start-seconds="709">research by different people.</span></p>
      <p><span data-start="11:53.900" data-end="11:56.410" data-start-seconds="713">The first demo is</span> <span data-start="11:53.900" data-end="11:56.410" data-start-seconds="713">called Sniffly by Jan,</span> <span data-start="11:56.410" data-end="11:58.500" data-start-seconds="716">who gave a talk earlier.</span></p>
      <p><span data-start="11:58.500" data-end="12:02.380" data-start-seconds="718">Sniffly is a timing attack</span> <span data-start="11:58.500" data-end="12:02.380" data-start-seconds="718">that detects the browser</span> <span data-start="12:02.380" data-end="12:04.390" data-start-seconds="722">history for the victim.</span></p>
      <p><span data-start="12:04.390" data-end="12:06.270" data-start-seconds="724">So out of a list</span> <span data-start="12:04.390" data-end="12:06.270" data-start-seconds="724">of domains, Sniffly</span> <span data-start="12:06.270" data-end="12:09.130" data-start-seconds="726">can figure out if you have</span> <span data-start="12:06.270" data-end="12:09.130" data-start-seconds="726">visited that domain before</span> <span data-start="12:09.130" data-end="12:10.020" data-start-seconds="729">or not.</span></p>
      <p><span data-start="12:10.020" data-end="12:13.890" data-start-seconds="730">And I can tell you browsers</span> <span data-start="12:10.020" data-end="12:13.890" data-start-seconds="730">are trying all kinds of things</span> <span data-start="12:13.890" data-end="12:16.620" data-start-seconds="733">to prevent this kind of</span> <span data-start="12:13.890" data-end="12:16.620" data-start-seconds="733">thing exactly from happening.</span></p>
      <p><span data-start="12:16.620" data-end="12:18.250" data-start-seconds="736">So it really</span> <span data-start="12:16.620" data-end="12:18.250" data-start-seconds="736">shouldn't be possible</span> <span data-start="12:18.250" data-end="12:20.380" data-start-seconds="738">and Jan still found</span> <span data-start="12:18.250" data-end="12:20.380" data-start-seconds="738">a way to do it.</span></p>
      <p><span data-start="12:20.380" data-end="12:22.850" data-start-seconds="740">And this is how it</span> <span data-start="12:20.380" data-end="12:22.850" data-start-seconds="740">works in a nutshell.</span></p>
      <p><span data-start="12:22.850" data-end="12:25.870" data-start-seconds="742">Maybe simplifying a little bit</span> <span data-start="12:22.850" data-end="12:25.870" data-start-seconds="742">over here, but bear with me.</span></p>
      <p><span data-start="12:25.870" data-end="12:29.280" data-start-seconds="745">So for each domain that Sniffly</span> <span data-start="12:25.870" data-end="12:29.280" data-start-seconds="745">checks, it starts a timer</span> <span data-start="12:29.280" data-end="12:33.680" data-start-seconds="749">and then it loads an image</span> <span data-start="12:29.280" data-end="12:33.680" data-start-seconds="749">off of that domain over HTTP.</span></p>
      <p><span data-start="12:33.680" data-end="12:35.350" data-start-seconds="753">Now, all these</span> <span data-start="12:33.680" data-end="12:35.350" data-start-seconds="753">domains in the list,</span> <span data-start="12:35.350" data-end="12:39.530" data-start-seconds="755">they use strict transport</span> <span data-start="12:35.350" data-end="12:39.530" data-start-seconds="755">security or HSTS.</span></p>
      <p><span data-start="12:39.530" data-end="12:42.950" data-start-seconds="759">This means that if the user has</span> <span data-start="12:39.530" data-end="12:42.950" data-start-seconds="759">visited that website before,</span> <span data-start="12:42.950" data-end="12:45.150" data-start-seconds="762">the HSTS entry is in</span> <span data-start="12:42.950" data-end="12:45.150" data-start-seconds="762">the browser cache.</span></p>
      <p><span data-start="12:45.150" data-end="12:46.860" data-start-seconds="765">And the browser</span> <span data-start="12:45.150" data-end="12:46.860" data-start-seconds="765">will automatically</span> <span data-start="12:46.860" data-end="12:49.410" data-start-seconds="766">make the request</span> <span data-start="12:46.860" data-end="12:49.410" data-start-seconds="766">over HTTPS instead.</span></p>
      <p><span data-start="12:49.410" data-end="12:51.912" data-start-seconds="769">It won't even try to make</span> <span data-start="12:49.410" data-end="12:51.912" data-start-seconds="769">the request over HTTP.</span></p>
      <p><span data-start="12:51.912" data-end="12:54.690" data-start-seconds="771">It will go straight to it HTTPS.</span></p>
      <p><span data-start="12:54.690" data-end="12:56.170" data-start-seconds="774">Now, the other part</span> <span data-start="12:54.690" data-end="12:56.170" data-start-seconds="774">of the trick is</span> <span data-start="12:56.170" data-end="13:00.220" data-start-seconds="776">that CSP is used-- Content</span> <span data-start="12:56.170" data-end="13:00.220" data-start-seconds="776">Security Policy-- to restrict</span> <span data-start="13:00.220" data-end="13:02.360" data-start-seconds="780">images to HTTP only.</span></p>
      <p><span data-start="13:02.360" data-end="13:04.880" data-start-seconds="782">So images are essentially</span> <span data-start="13:02.360" data-end="13:04.880" data-start-seconds="782">blocked before they</span> <span data-start="13:04.880" data-end="13:07.530" data-start-seconds="784">get redirected to HTTPS.</span></p>
      <p><span data-start="13:07.530" data-end="13:11.220" data-start-seconds="787">and as we saw earlier,</span> <span data-start="13:07.530" data-end="13:11.220" data-start-seconds="787">when an image gets blocked,</span> <span data-start="13:11.220" data-end="13:15.716" data-start-seconds="791">the error event fires, and</span> <span data-start="13:11.220" data-end="13:15.716" data-start-seconds="791">then the timer is stopped.</span></p>
      <p><span data-start="13:15.716" data-end="13:18.340" data-start-seconds="795">And at that point, Sniffly knows</span> <span data-start="13:15.716" data-end="13:18.340" data-start-seconds="795">how long it took for the image</span> <span data-start="13:18.340" data-end="13:21.520" data-start-seconds="798">to be redirected</span> <span data-start="13:18.340" data-end="13:21.520" data-start-seconds="798">from HTTP to HTTPS.</span></p>
      <p><span data-start="13:21.520" data-end="13:24.980" data-start-seconds="801">Now, if this took, let's say,</span> <span data-start="13:21.520" data-end="13:24.980" data-start-seconds="801">1 millisecond or something</span> <span data-start="13:24.980" data-end="13:28.256" data-start-seconds="804">like that, then it's very</span> <span data-start="13:24.980" data-end="13:28.256" data-start-seconds="804">likely that it didn't actually</span> <span data-start="13:28.256" data-end="13:29.630" data-start-seconds="808">go over the network</span> <span data-start="13:28.256" data-end="13:29.630" data-start-seconds="808">and come back</span> <span data-start="13:29.630" data-end="13:32.100" data-start-seconds="809">with a redirect response</span> <span data-start="13:29.630" data-end="13:32.100" data-start-seconds="809">in just the 1 millisecond.</span></p>
      <p><span data-start="13:32.100" data-end="13:33.330" data-start-seconds="812">That's way too fast.</span></p>
      <p><span data-start="13:33.330" data-end="13:35.550" data-start-seconds="813">It means the browser</span> <span data-start="13:33.330" data-end="13:35.550" data-start-seconds="813">has automatically</span> <span data-start="13:35.550" data-end="13:38.240" data-start-seconds="815">redirected to HTTPS</span> <span data-start="13:35.550" data-end="13:38.240" data-start-seconds="815">because the user has</span> <span data-start="13:38.240" data-end="13:39.720" data-start-seconds="818">visited the site before.</span></p>
      <p><span data-start="13:39.720" data-end="13:42.910" data-start-seconds="819">And the HSTS entry is</span> <span data-start="13:39.720" data-end="13:42.910" data-start-seconds="819">in the browser cache.</span></p>
      <p><span data-start="13:42.910" data-end="13:47.690" data-start-seconds="822">However, if it took more like,</span> <span data-start="13:42.910" data-end="13:47.690" data-start-seconds="822">let's say, 100 milliseconds,</span> <span data-start="13:47.690" data-end="13:50.110" data-start-seconds="827">then the network request</span> <span data-start="13:47.690" data-end="13:50.110" data-start-seconds="827">probably did occur,</span> <span data-start="13:50.110" data-end="13:54.340" data-start-seconds="830">and this indicates that the</span> <span data-start="13:50.110" data-end="13:54.340" data-start-seconds="830">user has not visited the domain.</span></p>
      <p><span data-start="13:54.340" data-end="13:56.960" data-start-seconds="834">I thought that was a really</span> <span data-start="13:54.340" data-end="13:56.960" data-start-seconds="834">clever kind of attack.</span></p>
      <p><span data-start="13:56.960" data-end="13:59.010" data-start-seconds="836">And then I bumped into</span> <span data-start="13:56.960" data-end="13:59.010" data-start-seconds="836">some other research</span> <span data-start="13:59.010" data-end="14:01.410" data-start-seconds="839">by Tom Van Goethem,</span> <span data-start="13:59.010" data-end="14:01.410" data-start-seconds="839">who figured out</span> <span data-start="14:01.410" data-end="14:06.370" data-start-seconds="841">an improved technique called</span> <span data-start="14:01.410" data-end="14:06.370" data-start-seconds="841">the video parsing timing attack.</span></p>
      <p><span data-start="14:06.370" data-end="14:09.030" data-start-seconds="846">So instead of creating an</span> <span data-start="14:06.370" data-end="14:09.030" data-start-seconds="846">image like we did before, now</span> <span data-start="14:09.030" data-end="14:11.010" data-start-seconds="849">you just create a video.</span></p>
      <p><span data-start="14:11.010" data-end="14:13.440" data-start-seconds="851">You point any HTML</span> <span data-start="14:11.010" data-end="14:13.440" data-start-seconds="851">resource to it.</span></p>
      <p><span data-start="14:13.440" data-end="14:16.550" data-start-seconds="853">Well, basically anything</span> <span data-start="14:13.440" data-end="14:16.550" data-start-seconds="853">that isn't a real video.</span></p>
      <p><span data-start="14:16.550" data-end="14:18.390" data-start-seconds="856">So use any URL that you want.</span></p>
      <p><span data-start="14:18.390" data-end="14:20.340" data-start-seconds="858">And then you can use</span> <span data-start="14:18.390" data-end="14:20.340" data-start-seconds="858">the Suspend Events</span> <span data-start="14:20.340" data-end="14:23.780" data-start-seconds="860">to get a kind of a notification</span> <span data-start="14:20.340" data-end="14:23.780" data-start-seconds="860">when the download is completed.</span></p>
      <p><span data-start="14:23.780" data-end="14:25.830" data-start-seconds="863">At that point, you</span> <span data-start="14:23.780" data-end="14:25.830" data-start-seconds="863">start the timer.</span></p>
      <p><span data-start="14:25.830" data-end="14:27.769" data-start-seconds="865">And as soon as the</span> <span data-start="14:25.830" data-end="14:27.769" data-start-seconds="865">error event fires,</span> <span data-start="14:27.769" data-end="14:29.310" data-start-seconds="867">this means that the</span> <span data-start="14:27.769" data-end="14:29.310" data-start-seconds="867">browser has tried</span> <span data-start="14:29.310" data-end="14:32.350" data-start-seconds="869">parsing this HTML file as a</span> <span data-start="14:29.310" data-end="14:32.350" data-start-seconds="869">video, which obviously wouldn't</span> <span data-start="14:32.350" data-end="14:33.660" data-start-seconds="872">work.</span></p>
      <p><span data-start="14:33.660" data-end="14:35.747" data-start-seconds="873">Then you just stop the timer.</span></p>
      <p><span data-start="14:35.747" data-end="14:37.830" data-start-seconds="875">So the main difference</span> <span data-start="14:35.747" data-end="14:37.830" data-start-seconds="875">with the previous technique</span> <span data-start="14:37.830" data-end="14:40.080" data-start-seconds="877">here is that you're not</span> <span data-start="14:37.830" data-end="14:40.080" data-start-seconds="877">measuring the download</span> <span data-start="14:40.080" data-end="14:40.725" data-start-seconds="880">time anymore.</span></p>
      <p><span data-start="14:40.725" data-end="14:43.100" data-start-seconds="880">You're not measuring anything</span> <span data-start="14:40.725" data-end="14:43.100" data-start-seconds="880">that goes over the network.</span></p>
      <p><span data-start="14:43.100" data-end="14:45.433" data-start-seconds="883">They're just measuring how</span> <span data-start="14:43.100" data-end="14:45.433" data-start-seconds="883">long it takes for the browser</span> <span data-start="14:45.433" data-end="14:48.900" data-start-seconds="885">to figure out that, hey, this is</span> <span data-start="14:45.433" data-end="14:48.900" data-start-seconds="885">not a video that I can decode.</span></p>
      <p><span data-start="14:48.900" data-end="14:52.470" data-start-seconds="888">And it turns out</span> <span data-start="14:48.900" data-end="14:52.470" data-start-seconds="888">that this depends</span> <span data-start="14:52.470" data-end="14:54.577" data-start-seconds="892">on how big the resource is.</span></p>
      <p><span data-start="14:54.577" data-end="14:56.410" data-start-seconds="894">The bigger the resource,</span> <span data-start="14:54.577" data-end="14:56.410" data-start-seconds="894">the longer it takes</span> <span data-start="14:56.410" data-end="14:58.670" data-start-seconds="896">for the browser to</span> <span data-start="14:56.410" data-end="14:58.670" data-start-seconds="896">throw this error.</span></p>
      <p><span data-start="14:58.670" data-end="15:00.990" data-start-seconds="898">So this gives you a</span> <span data-start="14:58.670" data-end="15:00.990" data-start-seconds="898">very accurate idea</span> <span data-start="15:00.990" data-end="15:04.270" data-start-seconds="900">of how big the file is</span> <span data-start="15:00.990" data-end="15:04.270" data-start-seconds="900">compared to another file.</span></p>
      <p><span data-start="15:04.270" data-end="15:06.950" data-start-seconds="904">With this technique, you can</span> <span data-start="15:04.270" data-end="15:06.950" data-start-seconds="904">compare two different resources</span> <span data-start="15:06.950" data-end="15:10.310" data-start-seconds="906">on the web and with</span> <span data-start="15:06.950" data-end="15:10.310" data-start-seconds="906">great accuracy,</span> <span data-start="15:10.310" data-end="15:12.280" data-start-seconds="910">say, that OK this</span> <span data-start="15:10.310" data-end="15:12.280" data-start-seconds="910">one is apparently</span> <span data-start="15:12.280" data-end="15:15.320" data-start-seconds="912">bigger than the other one.</span></p>
      <p><span data-start="15:15.320" data-end="15:17.630" data-start-seconds="915">Now, Tom went even a</span> <span data-start="15:15.320" data-end="15:17.630" data-start-seconds="915">little bit further,</span> <span data-start="15:17.630" data-end="15:20.590" data-start-seconds="917">and he improved his technique</span> <span data-start="15:17.630" data-end="15:20.590" data-start-seconds="917">into a cache-storing timing</span> <span data-start="15:20.590" data-end="15:21.180" data-start-seconds="920">attack.</span></p>
      <p><span data-start="15:21.180" data-end="15:25.810" data-start-seconds="921">And this uses two</span> <span data-start="15:21.180" data-end="15:25.810" data-start-seconds="921">fairly modern WEP APIs.</span></p>
      <p><span data-start="15:25.810" data-end="15:27.970" data-start-seconds="925">It combines a fetch</span> <span data-start="15:25.810" data-end="15:27.970" data-start-seconds="925">API with some settings</span> <span data-start="15:27.970" data-end="15:30.660" data-start-seconds="927">to make it behave kind of</span> <span data-start="15:27.970" data-end="15:30.660" data-start-seconds="927">similarly to the image request</span> <span data-start="15:30.660" data-end="15:32.804" data-start-seconds="930">that we saw earlier.</span></p>
      <p><span data-start="15:32.804" data-end="15:35.700" data-start-seconds="932">And it also uses the</span> <span data-start="15:32.804" data-end="15:35.700" data-start-seconds="932">programmable cache API</span> <span data-start="15:35.700" data-end="15:38.170" data-start-seconds="935">that is available, not just</span> <span data-start="15:35.700" data-end="15:38.170" data-start-seconds="935">within a service worker,</span> <span data-start="15:38.170" data-end="15:40.140" data-start-seconds="938">but also outside of it.</span></p>
      <p><span data-start="15:40.140" data-end="15:42.630" data-start-seconds="940">So essentially it</span> <span data-start="15:40.140" data-end="15:42.630" data-start-seconds="940">downloads a resource.</span></p>
      <p><span data-start="15:42.630" data-end="15:45.720" data-start-seconds="942">Once the download has</span> <span data-start="15:42.630" data-end="15:45.720" data-start-seconds="942">completed, it starts the timer.</span></p>
      <p><span data-start="15:45.720" data-end="15:48.510" data-start-seconds="945">Then it times how long it</span> <span data-start="15:45.720" data-end="15:48.510" data-start-seconds="945">takes to put this resource</span> <span data-start="15:48.510" data-end="15:50.400" data-start-seconds="948">into the programmable cache.</span></p>
      <p><span data-start="15:50.400" data-end="15:52.150" data-start-seconds="950">And the main advantage</span> <span data-start="15:50.400" data-end="15:52.150" data-start-seconds="950">of this technique</span> <span data-start="15:52.150" data-end="15:55.570" data-start-seconds="952">is that you can repeat it</span> <span data-start="15:52.150" data-end="15:55.570" data-start-seconds="952">without having to re-download</span> <span data-start="15:55.570" data-end="15:56.962" data-start-seconds="955">the file over and over again.</span></p>
      <p><span data-start="15:56.962" data-end="15:59.420" data-start-seconds="956">You can download it once, and</span> <span data-start="15:56.962" data-end="15:59.420" data-start-seconds="956">then just put it in the cache</span> <span data-start="15:59.420" data-end="16:02.990" data-start-seconds="959">1,000 times if you need a</span> <span data-start="15:59.420" data-end="16:02.990" data-start-seconds="959">more accurate measurement.</span></p>
      <p><span data-start="16:02.990" data-end="16:05.840" data-start-seconds="962">So this is where it</span> <span data-start="16:02.990" data-end="16:05.840" data-start-seconds="962">becomes pretty scary.</span></p>
      <p><span data-start="16:05.840" data-end="16:08.350" data-start-seconds="965">So we have a very accurate</span> <span data-start="16:05.840" data-end="16:08.350" data-start-seconds="965">client site timing</span> <span data-start="16:08.350" data-end="16:09.550" data-start-seconds="968">attack on our hands.</span></p>
      <p><span data-start="16:09.550" data-end="16:12.140" data-start-seconds="969">But what can we do</span> <span data-start="16:09.550" data-end="16:12.140" data-start-seconds="969">with it, really?</span> <span data-start="16:12.140" data-end="16:15.530" data-start-seconds="972">Well, just imagine that I</span> <span data-start="16:12.140" data-end="16:15.530" data-start-seconds="972">work for an evil company.</span></p>
      <p><span data-start="16:15.530" data-end="16:18.450" data-start-seconds="975">Let's say it's an advertisement</span> <span data-start="16:15.530" data-end="16:18.450" data-start-seconds="975">company that I work for,</span> <span data-start="16:18.450" data-end="16:21.290" data-start-seconds="978">and I want to figure out as</span> <span data-start="16:18.450" data-end="16:21.290" data-start-seconds="978">much information about my site's</span> <span data-start="16:21.290" data-end="16:23.890" data-start-seconds="981">visitors as possible</span> <span data-start="16:21.290" data-end="16:23.890" data-start-seconds="981">without them actually</span> <span data-start="16:23.890" data-end="16:25.100" data-start-seconds="983">giving me that information.</span></p>
      <p><span data-start="16:25.100" data-end="16:27.200" data-start-seconds="985">I basically want to kind</span> <span data-start="16:25.100" data-end="16:27.200" data-start-seconds="985">of invade their privacy,</span> <span data-start="16:27.200" data-end="16:29.800" data-start-seconds="987">figure out what age</span> <span data-start="16:27.200" data-end="16:29.800" data-start-seconds="987">groups they belong to,</span> <span data-start="16:29.800" data-end="16:31.970" data-start-seconds="989">what their gender</span> <span data-start="16:29.800" data-end="16:31.970" data-start-seconds="989">is, their interests.</span></p>
      <p><span data-start="16:31.970" data-end="16:35.600" data-start-seconds="991">Anything I can find out</span> <span data-start="16:31.970" data-end="16:35.600" data-start-seconds="991">for free, I want to know.</span></p>
      <p><span data-start="16:35.600" data-end="16:39.250" data-start-seconds="995">So here's a demo of this</span> <span data-start="16:35.600" data-end="16:39.250" data-start-seconds="995">kind of attack in action.</span></p>
      <p><span data-start="16:39.250" data-end="16:41.380" data-start-seconds="999">You're all familiar</span> <span data-start="16:39.250" data-end="16:41.380" data-start-seconds="999">with Facebook, right?</span> <span data-start="16:41.380" data-end="16:44.050" data-start-seconds="1001">Well, on Facebook you can</span> <span data-start="16:41.380" data-end="16:44.050" data-start-seconds="1001">create a Facebook page.</span></p>
      <p><span data-start="16:44.050" data-end="16:46.100" data-start-seconds="1004">And once you have</span> <span data-start="16:44.050" data-end="16:46.100" data-start-seconds="1004">a Facebook page,</span> <span data-start="16:46.100" data-end="16:48.310" data-start-seconds="1006">you can write a post to it.</span></p>
      <p><span data-start="16:48.310" data-end="16:52.450" data-start-seconds="1008">And you can target these</span> <span data-start="16:48.310" data-end="16:52.450" data-start-seconds="1008">posts to specific audiences.</span></p>
      <p><span data-start="16:52.450" data-end="16:56.040" data-start-seconds="1012">You can restrict the audience in</span> <span data-start="16:52.450" data-end="16:56.040" data-start-seconds="1012">terms of age, gender, location,</span> <span data-start="16:56.040" data-end="16:58.740" data-start-seconds="1016">or even languages</span> <span data-start="16:56.040" data-end="16:58.740" data-start-seconds="1016">that they speak.</span></p>
      <p><span data-start="16:58.740" data-end="17:01.250" data-start-seconds="1018">So what happens in this case?</span> <span data-start="17:01.250" data-end="17:06.868" data-start-seconds="1021">Well, Yeah, so no luck there.</span></p>
      <p><span data-start="17:06.868" data-end="17:09.900" data-start-seconds="1026">JavaScript is not a</span> <span data-start="17:06.868" data-end="17:09.900" data-start-seconds="1026">language apparently.</span></p>
      <p><span data-start="17:09.900" data-end="17:11.650" data-start-seconds="1029">It's very unfortunate.</span></p>
      <p><span data-start="17:11.650" data-end="17:14.140" data-start-seconds="1031">Anyway, so if you</span> <span data-start="17:11.650" data-end="17:14.140" data-start-seconds="1031">create a post like that,</span> <span data-start="17:14.140" data-end="17:15.640" data-start-seconds="1034">what happens if you</span> <span data-start="17:14.140" data-end="17:15.640" data-start-seconds="1034">try to visit it?</span> <span data-start="17:15.640" data-end="17:17.848" data-start-seconds="1035">So you get the</span> <span data-start="17:15.640" data-end="17:17.848" data-start-seconds="1035">permalink like the URL</span> <span data-start="17:17.848" data-end="17:20.005" data-start-seconds="1037">for this particular post.</span></p>
      <p><span data-start="17:20.005" data-end="17:24.637" data-start-seconds="1040">And you open it up in Facebook,</span> <span data-start="17:20.005" data-end="17:24.637" data-start-seconds="1040">and if you match the criteria</span> <span data-start="17:24.637" data-end="17:27.220" data-start-seconds="1044">on your Facebook profile, then</span> <span data-start="17:24.637" data-end="17:27.220" data-start-seconds="1044">you can actually view the post.</span></p>
      <p><span data-start="17:27.220" data-end="17:29.530" data-start-seconds="1047">You will get a response</span> <span data-start="17:27.220" data-end="17:29.530" data-start-seconds="1047">that looks like this.</span></p>
      <p><span data-start="17:29.530" data-end="17:32.250" data-start-seconds="1049">You see the post content,</span> <span data-start="17:29.530" data-end="17:32.250" data-start-seconds="1049">the comments to the post.</span></p>
      <p><span data-start="17:32.250" data-end="17:34.740" data-start-seconds="1052">Well, there aren't any comments</span> <span data-start="17:32.250" data-end="17:34.740" data-start-seconds="1052">here, but you get the idea.</span></p>
      <p><span data-start="17:34.740" data-end="17:37.630" data-start-seconds="1054">There's also a list of</span> <span data-start="17:34.740" data-end="17:37.630" data-start-seconds="1054">suggested pages in the sidebar.</span></p>
      <p><span data-start="17:37.630" data-end="17:40.560" data-start-seconds="1057">So the response body</span> <span data-start="17:37.630" data-end="17:40.560" data-start-seconds="1057">is kind of large.</span></p>
      <p><span data-start="17:40.560" data-end="17:44.200" data-start-seconds="1060">And let's say adding this</span> <span data-start="17:40.560" data-end="17:44.200" data-start-seconds="1060">page to the cache 10 times</span> <span data-start="17:44.200" data-end="17:46.570" data-start-seconds="1064">takes 30 milliseconds, as</span> <span data-start="17:44.200" data-end="17:46.570" data-start-seconds="1064">measured through the timing</span> <span data-start="17:46.570" data-end="17:49.000" data-start-seconds="1066">attack that we saw earlier.</span></p>
      <p><span data-start="17:49.000" data-end="17:52.350" data-start-seconds="1069">Now, if you view the same URL</span> <span data-start="17:49.000" data-end="17:52.350" data-start-seconds="1069">on another Facebook profile</span> <span data-start="17:52.350" data-end="17:55.100" data-start-seconds="1072">that doesn't match the</span> <span data-start="17:52.350" data-end="17:55.100" data-start-seconds="1072">criteria that we set earlier,</span> <span data-start="17:55.100" data-end="17:57.290" data-start-seconds="1075">you would get something</span> <span data-start="17:55.100" data-end="17:57.290" data-start-seconds="1075">like this instead.</span></p>
      <p><span data-start="17:57.290" data-end="18:00.960" data-start-seconds="1077">It's just an error</span> <span data-start="17:57.290" data-end="18:00.960" data-start-seconds="1077">message and nothing else.</span></p>
      <p><span data-start="18:00.960" data-end="18:02.705" data-start-seconds="1080">So the response body</span> <span data-start="18:00.960" data-end="18:02.705" data-start-seconds="1080">is much smaller.</span></p>
      <p><span data-start="18:02.705" data-end="18:06.510" data-start-seconds="1082">And adding this page</span> <span data-start="18:02.705" data-end="18:06.510" data-start-seconds="1082">to the cache 10 times</span> <span data-start="18:06.510" data-end="18:09.520" data-start-seconds="1086">takes only 15 milliseconds.</span></p>
      <p><span data-start="18:09.520" data-end="18:11.450" data-start-seconds="1089">Now, this difference</span> <span data-start="18:09.520" data-end="18:11.450" data-start-seconds="1089">in timing makes</span> <span data-start="18:11.450" data-end="18:14.410" data-start-seconds="1091">it possible to detect</span> <span data-start="18:11.450" data-end="18:14.410" data-start-seconds="1091">basically the age,</span> <span data-start="18:14.410" data-end="18:18.350" data-start-seconds="1094">the gender of the user,</span> <span data-start="18:14.410" data-end="18:18.350" data-start-seconds="1094">using nothing but JavaScript.</span></p>
      <p><span data-start="18:18.350" data-end="18:23.560" data-start-seconds="1098">So here's a pretty scary demo of</span> <span data-start="18:18.350" data-end="18:23.560" data-start-seconds="1098">this where everything is nicely</span> <span data-start="18:23.560" data-end="18:24.340" data-start-seconds="1103">visualized.</span></p>
      <p><span data-start="18:24.340" data-end="18:28.880" data-start-seconds="1104">So here you see that we're just</span> <span data-start="18:24.340" data-end="18:28.880" data-start-seconds="1104">making six different requests.</span></p>
      <p><span data-start="18:28.880" data-end="18:30.670" data-start-seconds="1108">Each request represents</span> <span data-start="18:28.880" data-end="18:30.670" data-start-seconds="1108">a Facebook post</span> <span data-start="18:30.670" data-end="18:35.420" data-start-seconds="1110">that is targeted towards</span> <span data-start="18:30.670" data-end="18:35.420" data-start-seconds="1110">a specific range of ages.</span></p>
      <p><span data-start="18:35.420" data-end="18:37.759" data-start-seconds="1115">We just add them to the</span> <span data-start="18:35.420" data-end="18:37.759" data-start-seconds="1115">cache over and over again,</span> <span data-start="18:37.759" data-end="18:40.050" data-start-seconds="1117">like 1,000 times, and then</span> <span data-start="18:37.759" data-end="18:40.050" data-start-seconds="1117">we measure how long it takes</span> <span data-start="18:40.050" data-end="18:41.522" data-start-seconds="1120">to get really accurate results.</span></p>
      <p><span data-start="18:41.522" data-end="18:43.230" data-start-seconds="1121">And after a couple of</span> <span data-start="18:41.522" data-end="18:43.230" data-start-seconds="1121">seconds, it already</span> <span data-start="18:43.230" data-end="18:46.170" data-start-seconds="1123">becomes clear that</span> <span data-start="18:43.230" data-end="18:46.170" data-start-seconds="1123">apparently the Facebook user</span> <span data-start="18:46.170" data-end="18:51.020" data-start-seconds="1126">this was tested on, who was 26</span> <span data-start="18:46.170" data-end="18:51.020" data-start-seconds="1126">by the way, is in the age range</span> <span data-start="18:51.020" data-end="18:53.600" data-start-seconds="1131">from 23 to 32.</span></p>
      <p><span data-start="18:53.600" data-end="18:56.580" data-start-seconds="1133">Now, once we found out</span> <span data-start="18:53.600" data-end="18:56.580" data-start-seconds="1133">this about our user,</span> <span data-start="18:56.580" data-end="19:01.060" data-start-seconds="1136">we can take it one step further</span> <span data-start="18:56.580" data-end="19:01.060" data-start-seconds="1136">and create an HTTP request</span> <span data-start="19:01.060" data-end="19:03.180" data-start-seconds="1141">for each of the</span> <span data-start="19:01.060" data-end="19:03.180" data-start-seconds="1141">specific Facebook</span> <span data-start="19:03.180" data-end="19:06.560" data-start-seconds="1143">posts for each individual</span> <span data-start="19:03.180" data-end="19:06.560" data-start-seconds="1143">age in that range.</span></p>
      <p><span data-start="19:06.560" data-end="19:08.680" data-start-seconds="1146">And once again, after</span> <span data-start="19:06.560" data-end="19:08.680" data-start-seconds="1146">just a couple of seconds,</span> <span data-start="19:08.680" data-end="19:11.380" data-start-seconds="1148">it becomes quite clear</span> <span data-start="19:08.680" data-end="19:11.380" data-start-seconds="1148">which of these will</span> <span data-start="19:11.380" data-end="19:13.650" data-start-seconds="1151">be the real age of our victim.</span></p>
      <p><span data-start="19:13.650" data-end="19:17.050" data-start-seconds="1153">In this case 26 years.</span></p>
      <p><span data-start="19:17.050" data-end="19:19.310" data-start-seconds="1157">So, of course, this demo</span> <span data-start="19:17.050" data-end="19:19.310" data-start-seconds="1157">visualizes everything</span> <span data-start="19:19.310" data-end="19:21.540" data-start-seconds="1159">into these moving charts,</span> <span data-start="19:19.310" data-end="19:21.540" data-start-seconds="1159">and it's fairly fancy.</span></p>
      <p><span data-start="19:21.540" data-end="19:23.620" data-start-seconds="1161">But the scary part</span> <span data-start="19:21.540" data-end="19:23.620" data-start-seconds="1161">is that this could</span> <span data-start="19:23.620" data-end="19:26.170" data-start-seconds="1163">be happening in the background</span> <span data-start="19:23.620" data-end="19:26.170" data-start-seconds="1163">while you're visiting</span> <span data-start="19:26.170" data-end="19:27.730" data-start-seconds="1166">any website whatsoever.</span></p>
      <p><span data-start="19:27.730" data-end="19:30.050" data-start-seconds="1167">You could be reading an</span> <span data-start="19:27.730" data-end="19:30.050" data-start-seconds="1167">article or watching a video,</span> <span data-start="19:30.050" data-end="19:32.580" data-start-seconds="1170">and the website could be</span> <span data-start="19:30.050" data-end="19:32.580" data-start-seconds="1170">using this timing attack</span> <span data-start="19:32.580" data-end="19:34.670" data-start-seconds="1172">to figure out all this</span> <span data-start="19:32.580" data-end="19:34.670" data-start-seconds="1172">information about you</span> <span data-start="19:34.670" data-end="19:37.610" data-start-seconds="1174">and basically invade your</span> <span data-start="19:34.670" data-end="19:37.610" data-start-seconds="1174">privacy without you ever</span> <span data-start="19:37.610" data-end="19:38.920" data-start-seconds="1177">knowing about it.</span></p>
      <p><span data-start="19:38.920" data-end="19:42.630" data-start-seconds="1178">I think this is something</span> <span data-start="19:38.920" data-end="19:42.630" data-start-seconds="1178">that warrants more discussion.</span></p>
      <p><span data-start="19:42.630" data-end="19:44.541" data-start-seconds="1182">So, yeah, pretty scary stuff.</span></p>
      <p><span data-start="19:44.541" data-end="19:46.790" data-start-seconds="1184">And if you want to find out</span> <span data-start="19:44.541" data-end="19:46.790" data-start-seconds="1184">more about this, check out</span> <span data-start="19:46.790" data-end="19:49.050" data-start-seconds="1186">the resources and the</span> <span data-start="19:46.790" data-end="19:49.050" data-start-seconds="1186">research I used in this talk.</span></p>
      <p><span data-start="19:49.050" data-end="19:52.370" data-start-seconds="1189">Also there is a bonus link with</span> <span data-start="19:49.050" data-end="19:52.370" data-start-seconds="1189">more examples of timing attacks</span> <span data-start="19:52.370" data-end="19:54.780" data-start-seconds="1192">on the web by Eduardo Villa.</span></p>
      <p><span data-start="19:54.780" data-end="19:56.750" data-start-seconds="1194">So check it out if</span> <span data-start="19:54.780" data-end="19:56.750" data-start-seconds="1194">you're interested.</span></p>
      <p><span data-start="19:56.750" data-end="19:57.330" data-start-seconds="1196">Thank you.</span></p>
      <p><span data-start="19:57.330" data-end="20:00.080" data-start-seconds="1197">[APPLAUSE]</span>     </div>
     <ul class="post options">
      <li><a href="#comments" id="goto-comments"><strong>0</strong> comments</a></li>
      <li><a href="#comment" id="goto-comment">Comment</a></li>
     </ul>
     <form method="post" action="/congres/2016-spring/sessions/front-end-performance-the-dark-side-by-mathias-bynens.md" id="comment">
      <fieldset>
       <legend>Post a comment</legend>
       <p>
        <label for="comment-name">Name</label>
        <input type="text" class="text" name="comment-name" required id="comment-name">
       </p>
       <p>
        <label for="comment-mail">E-mail <em>not displayed</em></label>
        <input type="email" class="text email" name="comment-mail" required id="comment-mail">
       </p>
       <p>
        <label for="comment-site">Website</label>
        <input type="url" class="text email" name="comment-site" id="comment-site">
       </p>
       <p>
        <label for="comment-text">Comment <em>HTML not allowed, <a href="/blog/markup" title="Markup for comments">simple markup</a> is</em></label>
        <textarea rows="5" cols="50" name="comment-text" required id="comment-text"></textarea>
       </p>
       <p>
        <label for="comment-spam">Spammer? <em>Fill in 'no'</em></label>
        <input type="text" class="text spam-check" name="comment-spam" id="comment-spam">
       </p>
       <p class="submit">
        <input type="submit" name="submit" value="Add" class="submit">
       </p>
      </fieldset>
     </form>
    </div>
   </div>
   <div id="submenu">
    <div id="conference-menu" lang="en">
     <h2>Fronteers Spring Conference</h2>
     <ul>
      <li><a href="/congres/2016-spring">Home</a></li>
      <li><a href="/congres/2016-spring/news" title="Fronteers Spring Conference News">News</a></li>
      <li><a href="/congres/2016-spring/schedule" title="Fronteers Spring Conference Schedule">Schedule</a></li>
      <li class="current"><a href="/congres/2016-spring/sessions" title="Fronteers Spring Conference Sessions" class="current">Sessions</a></li>
      <li><a href="/congres/2016-spring/speakers" title="Fronteers Spring Conference Speakers">Speakers</a></li>
      <li><a href="/congres/2016-spring/videos" title="Fronteers Spring Conference 2016 Videos">Videos</a></li>
      <li><a href="/congres/2016-spring/venue" title="Fronteers Spring Conference Venue">Venue</a></li>
      <li><a href="/congres/2016-spring/colophon" title="Fronteers Spring Conference Team">Team</a></li>
      <li><a href="/congres/2016-spring/tickets" title="Fronteers Spring Conference Tickets">Tickets</a></li>
      <li><a href="/congres/2016-spring/live-transcription" title="Fronteers Spring Conference Live Transcription">Live Transcription</a></li>
      <li><a href="/congres/2016-spring/code-of-conduct" title="Fronteers Code of Conduct">Code of Conduct</a></li>
      <li><a href="/congres/2016-spring/contact">Contact</a></li>
      <li><a href="/congres/2016-spring/terms-and-conditions" title="Fronteers Spring Conference Terms and Conditions">Terms and Conditions</a></li>
     </ul>
    </div>
    <div lang="en">
     <h2>Elsewhere</h2>
     <ul>
      <li><a href="https://twitter.com/FronteersConf">Twitter</a></li>
      <li><a href="https://vimeo.com/fronteers/videos">Vimeo</a></li>
      <li><a href="https://itunes.apple.com/nl/podcast/fronteers-videos/id1136212068?l=en">Podcast on iTunes</a></li>
      <li><a href="http://webchat.freenode.net/?channels=fronteers">IRC</a></li>
     </ul>
    </div>
    <div lang="en">
     <h2>Fronteers</h2>
     <ul>
      <li><a href="/about">About Fronteers</a></li>
      <li><a href="/">Homepage (NL)</a></li>
     </ul>
    </div>
    <div id="feeds" lang="en">
     <h2>Stay updated</h2>
     <ul>
      <li><a href="https://twitter.com/FronteersConf">Twitter</a></li>
      <li><a href="https://feeds.feedburner.com/FronteersCongres" type="application/rss+xml">RSS</a></li>
     </ul>
    </div>
   </div>
  </div>
  <script>
   (function() {
    "use strict";
    var i, j, tellCSS;
    var antiSpamElements = document.querySelectorAll && document.querySelectorAll('.spam-check');
    if (antiSpamElements) {
     for (i = 0; i < antiSpamElements.length; i++) {
      antiSpamElements[i].value = 'Nee';
      antiSpamElements[i].parentNode.style.display = 'none';
     }
    }
    var transcript = document.querySelector && document.querySelector('.transcript'), video = document.querySelector && document.querySelector('video');
    if (transcript && video) {
     transcript.onclick = function(e) {
      if (e && e.target && e.target.getAttribute('data-start-seconds')) {
       video.currentTime = e.target.getAttribute('data-start-seconds') - 1;
      }
     };
     if (transcript.previousElementSibling && transcript.previousElementSibling.tagName.toLowerCase() == 'h3') {
      transcript.previousElementSibling.appendChild(document.createTextNode(' (click to jump to that part in the video)'));
     }
     tellCSS = true;
    }
    var lis = document.querySelectorAll && document.querySelectorAll('li.current');
    if (lis) {
     var markers = [];
     for (i = 0; i < lis.length; i++) {
      var li = lis[i], ul = li.parentNode, top = li.offsetTop;
      if (ul.parentNode.tagName.toLowerCase() == 'li') {
       ul = ul.parentNode.parentNode;
      }
      var marker = document.createElement('li'), as = ul.querySelectorAll('a'), a;
      markers.push({
       top: top,
       marker: marker,
       mark: function(element) {
        this.marker.style.webkitTransform = this.marker.style.mozTransform = this.marker.style.msTransform = this.marker.style.transform = 'translateY(' + (element.offsetTop - this.top) + 'px)';
       },
       unmark: function() {
        this.marker.style.webkitTransform = this.marker.style.mozTransform = this.marker.style.msTransform = this.marker.style.transform = 'translateY(0)';
       }
      });
      for (j = 0; j < as.length; j++) {
       a = as[j];
       a.setAttribute('marker', i);
       a.onmouseover = a.onfocus = function() {
        markers[this.getAttribute('marker')].mark(this.parentNode);
       };
       a.onmouseout = a.onblur = function() {
        markers[this.getAttribute('marker')].unmark();
       };
       a.onclick = function() {
        markers[this.getAttribute('marker')].unmark = function(){};
       }
      }
      marker.innerHTML = '<span>​</span>';
      marker.className = 'mark';
      marker.style.top = top + 'px';
      ul.appendChild(marker);
     }
     tellCSS = true;
    }
    if (tellCSS) {
     document.documentElement.className = 'js-enabled';
    }
   })();
  </script>
 </body>
</html>
